$('#n3').click(function(){let track_id=$('#tracking_id').val();$.ajax({method:"GET",url:`getTrackinfo/${track_id}`,dataType:"JSON",success:function(data){let name=`${data.first_name}  ${data.other_name} ${data.last_name}`;let r_name=`${data.receiver_first_name}  ${data.receiver_other_name} ${data.receiver_last_name}`;$('#sender').text(name);$('#head_tracking_number').text(data.tracking_number);if(data.status=="Pick up initiated"){current_width=25;$('.progress-bar').css({"width":current_width+"%","background-color":"#8cf442",});$('#status').text(data.status).css({"color":"white","fontWeight":"bold","fontSize":"13pt"})}else if(data.status=="In Transit"){current_width=50;$('.progress-bar').css({"width":current_width+"%","background-color":"#8cf442",});$('#status').text(data.status).css({"color":"white","fontWeight":"bold","fontSize":"13pt"})}else{current_width=75;$('#status').text("Order Stopped").css({"color":"white","fontWeight":"bold","fontSize":"13pt"});$('.progress-bar').css({"width":current_width+"%","background-color":"red",})}
$('#delivery_date').text(data.delivery_date);$('#arrival_time').text(data.arrival_time);$('#comment').text(data.comment);$('#extension').text(data.sender_phone);$('#receiver').text(r_name);$('#receiver_address').text(data.receiver_address);$('#receiver_contact').text(data.receiver_phone);$('#airport').text(data.nearest_airport);$('#shipped_on').text(data.created_at);$('#type').text(data.shipment_mode);$('#weight').text(data.weight);$('#invoice').text(data.invoice);$('#origin').text(data.sender_address);$('#destination').text(data.receiver_address);$.ajax({method:"GET",url:`getShipmentActivities/${data.id}`,dataType:"JSON",success:(data)=>{$.each(data,(i,v)=>{let a=v.created_at.split(" ");let actDisplay="";actDisplay=`<tr><td>${v.Location}</td><td>${a[0]}</td><td>${a[1]}</td><td>${v.purpose_of_activity}</td></tr>`;$('#activityDisplay').append(actDisplay)})},error:(error)=>{alert("Error")}})},error:function(){alert("Error getting shipment")}})})